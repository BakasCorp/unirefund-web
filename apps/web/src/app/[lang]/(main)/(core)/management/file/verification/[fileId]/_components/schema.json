{
  "title": "Tax Refund Document",
  "type": "object",
  "properties": {
    "merchant_vat_number": {"type": "string"},
    "merchant_adress": {
      "type": "object",
      "properties": {
        "city": {"type": "string"},
        "country": {"type": "string"},
        "county": {"type": "string"},
        "merchant_name": {"type": "string"},
        "street": {"type": "string"}
      },
      "required": ["city", "country", "county", "merchant_name", "street"]
    },
    "total_price_included_vat": {"type": "number"},
    "date_of_sale": {"type": "string", "format": "date"},
    "traveller_full_name": {"type": "string"},
    "traveller_permanent_adress": {
      "type": "object",
      "properties": {
        "city": {"type": "string"},
        "country": {"type": "string"},
        "country_code": {"type": "string"},
        "postal_code": {"type": "string"},
        "street": {"type": "string"}
      },
      "required": ["city", "country", "country_code", "postal_code", "street"]
    },
    "traveller_email": {"type": "string", "format": "email"},
    "traveller_passport_no": {
      "type": "object",
      "properties": {
        "IssuingCountry": {"type": "string"},
        "PassportNo": {"type": "string"}
      },
      "required": ["IssuingCountry", "PassportNo"]
    },
    "arrived_in_the_eu": {"type": "string", "format": "date"},
    "lave_in_the_eu": {"type": "string", "format": "date"},
    "credit_card_number": {
      "type": ["string", "null"]
    },
    "merchant_signature": {"type": "boolean"},
    "customs_stamp": {"type": "boolean"},
    "description_of_goods": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "description_of_goods": {"type": "string"},
          "price_included_vat": {"type": "number"},
          "quantity": {"type": "integer"},
          "vat_base": {"type": ["number", "null"]},
          "vat_rate": {"type": ["number", "null"]}
        },
        "required": ["description_of_goods", "price_included_vat", "quantity"]
      }
    },
    "refund_amount": {"type": "number"}
  },
  "required": [
    "merchant_vat_number",
    "merchant_adress",
    "total_price_included_vat",
    "date_of_sale",
    "traveller_full_name",
    "traveller_permanent_adress",
    "traveller_email",
    "traveller_passport_no",
    "arrived_in_the_eu",
    "lave_in_the_eu",
    "merchant_signature",
    "customs_stamp",
    "description_of_goods",
    "refund_amount"
  ]
}
